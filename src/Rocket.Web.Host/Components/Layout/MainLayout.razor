@inherits LayoutComponentBase

<PageTitle>Bottle Rocket</PageTitle>

<BottleRocketMudThemeProvider IsDarkMode="@IsDarkMode"/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<style>
    @@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap');
    @@import url('https://fonts.googleapis.com/css2?family=Rubik');
    @@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro');
</style>

<MudLayout>
    <BottleRocketSidebar
        OnDarkModeToggle="@(_ => DarkToggle())"
        DarkMode="@IsDarkMode"/>
    <MudMainContent Class="pt-16 px-16">
        <MudContainer Class="mt-6">
            <ErrorBoundary>
                <ChildContent>
                    <CascadingValue Name="IsDarkMode" Value="@IsDarkMode">
                        @Body
                    </CascadingValue>
                </ChildContent>
                <ErrorContent Context="exception">
                    <NotFound Exception="exception"/>
                </ErrorContent>
            </ErrorBoundary>
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {

    private bool IsDarkMode { get; set; } = true;
    
    void DarkToggle()
    {
        IsDarkMode = !IsDarkMode;
        StateHasChanged();
    }

}
